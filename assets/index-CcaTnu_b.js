var Et=Object.defineProperty;var $t=(t,e,r)=>e in t?Et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var m=(t,e,r)=>$t(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var pe,f,Xe,Ze,R,ze,Ye,Je,Qe,Pe,we,Se,et,G={},tt=[],Ct=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,fe=Array.isArray;function U(t,e){for(var r in e)t[r]=e[r];return t}function Oe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Pt(t,e,r){var o,n,i,s={};for(i in e)i=="key"?o=e[i]:i=="ref"?n=e[i]:s[i]=e[i];if(arguments.length>2&&(s.children=arguments.length>3?pe.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)s[i]===void 0&&(s[i]=t.defaultProps[i]);return oe(t,s,o,n,null)}function oe(t,e,r,o,n){var i={type:t,props:e,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:n??++Xe,__i:-1,__u:0};return n==null&&f.vnode!=null&&f.vnode(i),i}function he(t){return t.children}function K(t,e){this.props=t,this.context=e}function H(t,e){if(e==null)return t.__?H(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?H(t):null}function rt(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return rt(t)}}function xe(t){(!t.__d&&(t.__d=!0)&&R.push(t)&&!ie.__r++||ze!==f.debounceRendering)&&((ze=f.debounceRendering)||Ye)(ie)}function ie(){for(var t,e,r,o,n,i,s,a=1;R.length;)R.length>a&&R.sort(Je),t=R.shift(),a=R.length,t.__d&&(r=void 0,n=(o=(e=t).__v).__e,i=[],s=[],e.__P&&((r=U({},o)).__v=o.__v+1,f.vnode&&f.vnode(r),Ne(e.__P,r,o,e.__n,e.__P.namespaceURI,32&o.__u?[n]:null,i,n??H(o),!!(32&o.__u),s),r.__v=o.__v,r.__.__k[r.__i]=r,it(i,r,s),r.__e!=n&&rt(r)));ie.__r=0}function ot(t,e,r,o,n,i,s,a,_,u,p){var c,h,l,k,C,w,v=o&&o.__k||tt,y=e.length;for(_=Ot(r,e,v,_,y),c=0;c<y;c++)(l=r.__k[c])!=null&&(h=l.__i===-1?G:v[l.__i]||G,l.__i=c,w=Ne(t,l,h,n,i,s,a,_,u,p),k=l.__e,l.ref&&h.ref!=l.ref&&(h.ref&&Te(h.ref,null,l),p.push(l.ref,l.__c||k,l)),C==null&&k!=null&&(C=k),4&l.__u||h.__k===l.__k?_=nt(l,_,t):typeof l.type=="function"&&w!==void 0?_=w:k&&(_=k.nextSibling),l.__u&=-7);return r.__e=C,_}function Ot(t,e,r,o,n){var i,s,a,_,u,p=r.length,c=p,h=0;for(t.__k=new Array(n),i=0;i<n;i++)(s=e[i])!=null&&typeof s!="boolean"&&typeof s!="function"?(_=i+h,(s=t.__k[i]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?oe(null,s,null,null,null):fe(s)?oe(he,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?oe(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,a=null,(u=s.__i=Nt(s,r,_,c))!==-1&&(c--,(a=r[u])&&(a.__u|=2)),a==null||a.__v===null?(u==-1&&(n>p?h--:n<p&&h++),typeof s.type!="function"&&(s.__u|=4)):u!=_&&(u==_-1?h--:u==_+1?h++:(u>_?h--:h++,s.__u|=4))):t.__k[i]=null;if(c)for(i=0;i<p;i++)(a=r[i])!=null&&!(2&a.__u)&&(a.__e==o&&(o=H(a)),ct(a,a));return o}function nt(t,e,r){var o,n;if(typeof t.type=="function"){for(o=t.__k,n=0;o&&n<o.length;n++)o[n]&&(o[n].__=t,e=nt(o[n],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=H(t)),r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Nt(t,e,r,o){var n,i,s=t.key,a=t.type,_=e[r];if(_===null&&t.key==null||_&&s==_.key&&a===_.type&&!(2&_.__u))return r;if(o>(_!=null&&!(2&_.__u)?1:0))for(n=r-1,i=r+1;n>=0||i<e.length;){if(n>=0){if((_=e[n])&&!(2&_.__u)&&s==_.key&&a===_.type)return n;n--}if(i<e.length){if((_=e[i])&&!(2&_.__u)&&s==_.key&&a===_.type)return i;i++}}return-1}function Re(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||Ct.test(e)?r:r+"px"}function re(t,e,r,o,n){var i;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)r&&e in r||Re(t.style,e,"");if(r)for(e in r)o&&r[e]===o[e]||Re(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")i=e!=(e=e.replace(Qe,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?o?r.t=o.t:(r.t=Pe,t.addEventListener(e,i?Se:we,i)):t.removeEventListener(e,i?Se:we,i);else{if(n=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function Ie(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.u==null)e.u=Pe++;else if(e.u<r.t)return;return r(f.event?f.event(e):e)}}}function Ne(t,e,r,o,n,i,s,a,_,u){var p,c,h,l,k,C,w,v,y,F,A,ee,W,Me,te,j,me,N=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(_=!!(32&r.__u),i=[a=e.__e=r.__e]),(p=f.__b)&&p(e);e:if(typeof N=="function")try{if(v=e.props,y="prototype"in N&&N.prototype.render,F=(p=N.contextType)&&o[p.__c],A=p?F?F.props.value:p.__:o,r.__c?w=(c=e.__c=r.__c).__=c.__E:(y?e.__c=c=new N(v,A):(e.__c=c=new K(v,A),c.constructor=N,c.render=Ut),F&&F.sub(c),c.props=v,c.state||(c.state={}),c.context=A,c.__n=o,h=c.__d=!0,c.__h=[],c._sb=[]),y&&c.__s==null&&(c.__s=c.state),y&&N.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=U({},c.__s)),U(c.__s,N.getDerivedStateFromProps(v,c.__s))),l=c.props,k=c.state,c.__v=e,h)y&&N.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),y&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(y&&N.getDerivedStateFromProps==null&&v!==l&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(v,A),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(v,c.__s,A)===!1||e.__v==r.__v)){for(e.__v!=r.__v&&(c.props=v,c.state=c.__s,c.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(q){q&&(q.__=e)}),ee=0;ee<c._sb.length;ee++)c.__h.push(c._sb[ee]);c._sb=[],c.__h.length&&s.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(v,c.__s,A),y&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(l,k,C)})}if(c.context=A,c.props=v,c.__P=t,c.__e=!1,W=f.__r,Me=0,y){for(c.state=c.__s,c.__d=!1,W&&W(e),p=c.render(c.props,c.state,c.context),te=0;te<c._sb.length;te++)c.__h.push(c._sb[te]);c._sb=[]}else do c.__d=!1,W&&W(e),p=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++Me<25);c.state=c.__s,c.getChildContext!=null&&(o=U(U({},o),c.getChildContext())),y&&!h&&c.getSnapshotBeforeUpdate!=null&&(C=c.getSnapshotBeforeUpdate(l,k)),j=p,p!=null&&p.type===he&&p.key==null&&(j=st(p.props.children)),a=ot(t,fe(j)?j:[j],e,r,o,n,i,s,a,_,u),c.base=e.__e,e.__u&=-161,c.__h.length&&s.push(c),w&&(c.__E=c.__=null)}catch(q){if(e.__v=null,_||i!=null)if(q.then){for(e.__u|=_?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;i[i.indexOf(a)]=null,e.__e=a}else for(me=i.length;me--;)Oe(i[me]);else e.__e=r.__e,e.__k=r.__k;f.__e(q,e,r)}else i==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):a=e.__e=Tt(r.__e,e,r,o,n,i,s,_,u);return(p=f.diffed)&&p(e),128&e.__u?void 0:a}function it(t,e,r){for(var o=0;o<r.length;o++)Te(r[o],r[++o],r[++o]);f.__c&&f.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(i){i.call(n)})}catch(i){f.__e(i,n.__v)}})}function st(t){return typeof t!="object"||t==null?t:fe(t)?t.map(st):U({},t)}function Tt(t,e,r,o,n,i,s,a,_){var u,p,c,h,l,k,C,w=r.props,v=e.props,y=e.type;if(y=="svg"?n="http://www.w3.org/2000/svg":y=="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((l=i[u])&&"setAttribute"in l==!!y&&(y?l.localName==y:l.nodeType==3)){t=l,i[u]=null;break}}if(t==null){if(y==null)return document.createTextNode(v);t=document.createElementNS(n,y,v.is&&v),a&&(f.__m&&f.__m(e,i),a=!1),i=null}if(y===null)w===v||a&&t.data===v||(t.data=v);else{if(i=i&&pe.call(t.childNodes),w=r.props||G,!a&&i!=null)for(w={},u=0;u<t.attributes.length;u++)w[(l=t.attributes[u]).name]=l.value;for(u in w)if(l=w[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=l;else if(!(u in v)){if(u=="value"&&"defaultValue"in v||u=="checked"&&"defaultChecked"in v)continue;re(t,u,null,l,n)}}for(u in v)l=v[u],u=="children"?h=l:u=="dangerouslySetInnerHTML"?p=l:u=="value"?k=l:u=="checked"?C=l:a&&typeof l!="function"||w[u]===l||re(t,u,l,w[u],n);if(p)a||c&&(p.__html===c.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(c&&(t.innerHTML=""),ot(e.type==="template"?t.content:t,fe(h)?h:[h],e,r,o,y=="foreignObject"?"http://www.w3.org/1999/xhtml":n,i,s,i?i[0]:r.__k&&H(r,0),a,_),i!=null)for(u=i.length;u--;)Oe(i[u]);a||(u="value",y=="progress"&&k==null?t.removeAttribute("value"):k!==void 0&&(k!==t[u]||y=="progress"&&!k||y=="option"&&k!==w[u])&&re(t,u,k,w[u],n),u="checked",C!==void 0&&C!==t[u]&&re(t,u,C,w[u],n))}return t}function Te(t,e,r){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(n){f.__e(n,r)}}function ct(t,e,r){var o,n;if(f.unmount&&f.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Te(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(i){f.__e(i,e)}o.base=o.__P=null}if(o=t.__k)for(n=0;n<o.length;n++)o[n]&&ct(o[n],e,r||typeof t.type!="function");r||Oe(t.__e),t.__c=t.__=t.__e=void 0}function Ut(t,e,r){return this.constructor(t,r)}function At(t,e,r){var o,n,i,s;e==document&&(e=document.documentElement),f.__&&f.__(t,e),n=(o=!1)?null:e.__k,i=[],s=[],Ne(e,t=e.__k=Pt(he,null,[t]),n||G,G,e.namespaceURI,n?null:e.firstChild?pe.call(e.childNodes):null,i,n?n.__e:e.firstChild,o,s),it(i,t,s)}function Mt(t){function e(r){var o,n;return this.getChildContext||(o=new Set,(n={})[e.__c]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){o=null},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&o.forEach(function(s){s.__e=!0,xe(s)})},this.sub=function(i){o.add(i);var s=i.componentWillUnmount;i.componentWillUnmount=function(){o&&o.delete(i),s&&s.call(i)}}),r.children}return e.__c="__cC"+et++,e.__=t,e.Provider=e.__l=(e.Consumer=function(r,o){return r.children(o)}).contextType=e,e}pe=tt.slice,f={__e:function(t,e,r,o){for(var n,i,s;e=e.__;)if((n=e.__c)&&!n.__)try{if((i=n.constructor)&&i.getDerivedStateFromError!=null&&(n.setState(i.getDerivedStateFromError(t)),s=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t,o||{}),s=n.__d),s)return n.__E=n}catch(a){t=a}throw t}},Xe=0,Ze=function(t){return t!=null&&t.constructor==null},K.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=U({},this.state),typeof t=="function"&&(t=t(U({},r),this.props)),t&&U(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),xe(this))},K.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),xe(this))},K.prototype.render=he,R=[],Ye=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Je=function(t,e){return t.__v.__b-e.__v.__b},ie.__r=0,Qe=/(PointerCapture)$|Capture$/i,Pe=0,we=Ie(!1),Se=Ie(!0),et=0;var zt=0;function g(t,e,r,o,n,i){e||(e={});var s,a,_=e;if("ref"in _)for(a in _={},e)a=="ref"?s=e[a]:_[a]=e[a];var u={type:t,props:_,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--zt,__i:-1,__u:0,__source:n,__self:i};if(typeof t=="function"&&(s=t.defaultProps))for(a in s)_[a]===void 0&&(_[a]=s[a]);return f.vnode&&f.vnode(u),u}function at(t){var e,r,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(r=at(t[e]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r);return o}function X(){for(var t,e,r=0,o="",n=arguments.length;r<n;r++)(t=arguments[r])&&(e=at(t))&&(o&&(o+=" "),o+=e);return o}var se,E,ge,De,He=0,ut=[],b=f,Be=b.__b,Le=b.__r,Fe=b.diffed,We=b.__c,je=b.unmount,qe=b.__;function lt(t,e){b.__h&&b.__h(E,t,He||e),He=0;var r=E.__H||(E.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function de(t,e){var r=lt(se++,7);return Dt(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function ve(t){var e=E.context[t.__c],r=lt(se++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(E)),e.props.value):t.__}function Rt(){for(var t;t=ut.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ne),t.__H.__h.forEach(Ee),t.__H.__h=[]}catch(e){t.__H.__h=[],b.__e(e,t.__v)}}b.__b=function(t){E=null,Be&&Be(t)},b.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),qe&&qe(t,e)},b.__r=function(t){Le&&Le(t),se=0;var e=(E=t.__c).__H;e&&(ge===E?(e.__h=[],E.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(ne),e.__h.forEach(Ee),e.__h=[],se=0)),ge=E},b.diffed=function(t){Fe&&Fe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(ut.push(e)!==1&&De===b.requestAnimationFrame||((De=b.requestAnimationFrame)||It)(Rt)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),ge=E=null},b.__c=function(t,e){e.some(function(r){try{r.__h.forEach(ne),r.__h=r.__h.filter(function(o){return!o.__||Ee(o)})}catch(o){e.some(function(n){n.__h&&(n.__h=[])}),e=[],b.__e(o,r.__v)}}),We&&We(t,e)},b.unmount=function(t){je&&je(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(o){try{ne(o)}catch(n){e=n}}),r.__H=void 0,e&&b.__e(e,r.__v))};var Ke=typeof requestAnimationFrame=="function";function It(t){var e,r=function(){clearTimeout(o),Ke&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(r,100);Ke&&(e=requestAnimationFrame(r))}function ne(t){var e=E,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),E=e}function Ee(t){var e=E;t.__c=t.__(),E=e}function Dt(t,e){return!t||t.length!==e.length||e.some(function(r,o){return r!==t[o]})}const Ht=/[\s\u00A0]+/g,Bt=t=>t.replace(Ht,""),be=t=>t.replace(/[-\]\[.*+?^${}()|/]/g,"\\$&"),P={Invalid:"Expression is invalid",EmptyExpression:"Expression is empty",NotAllowedSymbols:"Expression has not allowed symbols",IncorrectUnaryOperator:"Invalid unary operator found",HasNotSupportedOperators:"Expression has not supported operators",UnmatchedParentheses:"Expression has unmatched parentheses",DivisionByZero:"Divide by zero is not supported",CalculationError:"Error while calculating happened"},O=t=>{throw new Error(t)},M={Opening:"(",Closing:")"},ce=t=>t===M.Opening,Lt=t=>t===M.Closing,Ue=t=>ce(t)||Lt(t),Ft=/^-?\d+(?:\.\d+)?$/,I=t=>t!=null,Wt=t=>I(t)&&t===0,_t=t=>I(t)&&t.length===0,pt=t=>typeof t=="string",ae=t=>pt(t)&&Ft.test(t);class Ve{constructor({arity:e,symbol:r}){m(this,"arity");m(this,"symbol");this.arity=e,this.symbol=r,Object.freeze(this)}}class jt{constructor({supportedOperators:e}){m(this,"supportedOperators");m(this,"isUnrecognizedOperator",e=>!ae(e)&&!Ue(e));this.supportedOperators=e}recognize(e){const r=this.recognizeOperators(e);return this.enrichOperators(r)}recognizeOperators(e){const r=[];return e.forEach((o,n,i)=>{if(!this.isUnrecognizedOperator(o)){r.push(o);return}const s=i[n-1],a=i[n+1],_=this.determineArity(s,a),u=new Ve({arity:_,symbol:o});r.push(u)}),r}enrichOperators(e){const r=[],o=new Map;return this.supportedOperators.forEach(n=>{const i=`${n.symbol}${n.arity}`;o.set(i,n)}),e.forEach(n=>{if(!(n instanceof Ve)){r.push(n);return}const s=`${n.symbol}${n.arity}`;o.has(s)||O(P.HasNotSupportedOperators),r.push(o.get(s))}),r}determineArity(e,r){!I(r)&&O(P.Invalid);const n=!I(e)||ce(e)||this.isUnrecognizedOperator(e);return n&&I(r)&&!ce(r)&&!ae(r)&&O(P.IncorrectUnaryOperator),n?1:2}}class ft{constructor(e=[]){m(this,"stack");this.stack=e}size(){return this.stack.length}push(e){this.stack.push(e)}pop(){return this.stack.pop()}readTop(){return this.stack.at(-1)}clear(){this.stack=[]}popTo(e,r){const o=this.size()-r,n=o<0?0:o;for(;this.size()>n;){const i=this.pop();I(i)&&e.push(i)}}popTopTo(e){return this.popTo(e,1)}popAllTo(e){return this.popTo(e,this.size())}}var x=(t=>(t[t.Number=0]="Number",t[t.Operator=1]="Operator",t[t.Parenthesis=2]="Parenthesis",t[t.Unknown=3]="Unknown",t))(x||{});const qt=t=>ae(t),Kt=t=>Ue(t),ht=t=>typeof t=="object"&&!!(t!=null&&t.hasOwnProperty("arity")&&(t!=null&&t.hasOwnProperty("action"))&&(t!=null&&t.hasOwnProperty("precedence"))&&(t!=null&&t.hasOwnProperty("symbol"))),Vt={[x.Number]:qt,[x.Operator]:ht,[x.Parenthesis]:Kt};class dt{constructor({supportedTokensTypes:e,tokenProcessor:r}){m(this,"tokenProcessor");m(this,"tokensTypes");this.tokensTypes=e,this.tokenProcessor={...r,[x.Unknown]:this.processUnknownChunk.bind(this)},this.getType=this.getType.bind(this),this.process=this.process.bind(this)}process(e){const r=this.getType(e),o=this.tokenProcessor[r];o(e)}getType(e){return this.tokensTypes.find(o=>Vt[o](e))??x.Unknown}processUnknownChunk(){O(P.Invalid)}}class Gt{constructor(){m(this,"stack");m(this,"tokenProcessor");this.stack=new ft,this.tokenProcessor=new dt({supportedTokensTypes:[x.Number,x.Operator],tokenProcessor:{[x.Number]:this.processToken.bind(this),[x.Operator]:this.processOperator.bind(this)}})}calculate(e){this.initExpressionCalc(e);const r=this.stack.pop();return this.checkStack(),r}reset(){this.stack.clear()}initExpressionCalc(e){e.forEach(this.tokenProcessor.process)}checkStack(){this.stack.size()&&O(P.CalculationError)}processToken(e){const r=parseFloat(e);this.stack.push(r)}processOperator(e){const r=[];this.stack.popTo(r,e.arity);const o=e.action(...r.reverse());this.stack.push(o)}}class Xt{constructor(){m(this,"operatorsStack");m(this,"notation");m(this,"tokenProcessor");this.operatorsStack=new ft,this.notation=[],this.tokenProcessor=new dt({supportedTokensTypes:[x.Number,x.Operator,x.Parenthesis],tokenProcessor:{[x.Number]:this.processTokenChunk.bind(this),[x.Operator]:this.processOperatorChunk.bind(this),[x.Parenthesis]:this.processBracketChunk.bind(this)}})}convert(e){const r=this.getConvertedExpression(e);return this.reset(),r}reset(){this.notation=[],this.operatorsStack.clear()}getConvertedExpression(e){return e.forEach(this.tokenProcessor.process),this.operatorsStack.popAllTo(this.notation),this.notation}processTokenChunk(e){this.notation.push(e)}processOperatorChunk(e){const r=this.operatorsStack.readTop(),o=this.getStackItemPrecedence(r);I(r)&&e.precedence<=o&&this.operatorsStack.popTopTo(this.notation),this.operatorsStack.push(e)}processBracketChunk(e){if(ce(e)){this.operatorsStack.push(e);return}let r=this.operatorsStack.pop();for(;r&&!Ue(r);)this.notation.push(r),r=this.operatorsStack.pop()}getStackItemPrecedence(e){return e&&ht(e)?e.precedence:0}}class Zt{constructor(){m(this,"accumulator",[])}add(e){this.accumulator.push(String(e))}collect(){const e=this.accumulator.join("");return this.reset(),e}collectTo(e){const r=this.collect();_t(r)||e.push(r)}reset(){this.accumulator=[]}}class Yt{tokenizeExpression(e){const r=[],o=new Zt;for(const n of e)if(!this.isEmptyChunk(n)){if(ae(n)){o.add(n);continue}o.collectTo(r),r.push(n)}return o.collectTo(r),r}isEmptyChunk(e){return e.trim().length===0}}class Jt{constructor({supportedOperators:e}){m(this,"supportedOperators");m(this,"allowedSymbolsRegex");this.supportedOperators=e,this.allowedSymbolsRegex=this.createAllowedSymbolsRegex()}checkString(e){pt(e)||O(P.Invalid)}checkEmptyString(e){_t(e)&&O(P.EmptyExpression)}checkNotAllowedSymbols(e){this.allowedSymbolsRegex.test(e)||O(P.NotAllowedSymbols)}getCount(e,r){return e[r]??0}checkParentheses(e){const r={};for(const o of e)this.getCount(r,M.Closing)>this.getCount(r,M.Opening)&&O(P.UnmatchedParentheses),r[o]=this.getCount(r,o)+1;this.getCount(r,M.Closing)!==this.getCount(r,M.Opening)&&O(P.UnmatchedParentheses)}createAllowedSymbolsRegex(){const e="0-9\\.",r=`${be(M.Opening)}${be(M.Closing)}`,o=this.supportedOperators.map(i=>be(i.symbol)).join(""),n=`^[${e}${r}${o}]+$`;return new RegExp(n)}}class Qt{constructor({supportedOperators:e}){m(this,"validator");m(this,"tokenizer");m(this,"operatorRecognizer");m(this,"rpnConverter");m(this,"rpnCalculator");this.tokenizer=new Yt,this.operatorRecognizer=new jt({supportedOperators:e}),this.validator=new Jt({supportedOperators:e}),this.rpnConverter=new Xt,this.rpnCalculator=new Gt}calculate(e){const r=this.filterWhitespaces(e),o=this.validateExpression(r),n=this.tokenizer.tokenizeExpression(o),i=this.operatorRecognizer.recognize(n);this.resetRPN();const s=this.rpnConverter.convert(i);return this.rpnCalculator.calculate(s)}resetRPN(){this.rpnConverter.reset(),this.rpnCalculator.reset()}filterWhitespaces(e){this.validator.checkString(e);const r=Bt(e);return this.validator.checkEmptyString(r),r}validateExpression(e){return this.validator.checkNotAllowedSymbols(e),this.validator.checkParentheses(e),e}}var er=Symbol.for("preact-signals");function ye(){if(z>1)z--;else{for(var t,e=!1;V!==void 0;){var r=V;for(V=void 0,$e++;r!==void 0;){var o=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&yt(r))try{r.c()}catch(n){e||(t=n,e=!0)}r=o}}if($e=0,z--,e)throw t}}function tr(t){if(z>0)return t();z++;try{return t()}finally{ye()}}var d=void 0,V=void 0,z=0,$e=0,ue=0;function vt(t){if(d!==void 0){var e=t.n;if(e===void 0||e.t!==d)return e={i:0,S:t,p:d.s,n:void 0,t:d,e:void 0,x:void 0,r:e},d.s!==void 0&&(d.s.n=e),d.s=e,t.n=e,32&d.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=d.s,e.n=void 0,d.s.n=e,d.s=e),e}}function S(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}S.prototype.brand=er;S.prototype.h=function(){return!0};S.prototype.S=function(t){this.t!==t&&t.e===void 0&&(t.x=this.t,this.t!==void 0&&(this.t.e=t),this.t=t)};S.prototype.U=function(t){if(this.t!==void 0){var e=t.e,r=t.x;e!==void 0&&(e.x=r,t.e=void 0),r!==void 0&&(r.e=e,t.x=void 0),t===this.t&&(this.t=r)}};S.prototype.subscribe=function(t){var e=this;return Y(function(){var r=e.value,o=d;d=void 0;try{t(r)}finally{d=o}})};S.prototype.valueOf=function(){return this.value};S.prototype.toString=function(){return this.value+""};S.prototype.toJSON=function(){return this.value};S.prototype.peek=function(){var t=d;d=void 0;try{return this.value}finally{d=t}};Object.defineProperty(S.prototype,"value",{get:function(){var t=vt(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if($e>100)throw new Error("Cycle detected");this.v=t,this.i++,ue++,z++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{ye()}}}});function $(t){return new S(t)}function yt(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function mt(t){for(var e=t.s;e!==void 0;e=e.n){var r=e.S.n;if(r!==void 0&&(e.r=r),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function gt(t){for(var e=t.s,r=void 0;e!==void 0;){var o=e.p;e.i===-1?(e.S.U(e),o!==void 0&&(o.n=e.n),e.n!==void 0&&(e.n.p=o)):r=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=o}t.s=r}function B(t){S.call(this,void 0),this.x=t,this.s=void 0,this.g=ue-1,this.f=4}(B.prototype=new S).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===ue))return!0;if(this.g=ue,this.f|=1,this.i>0&&!yt(this))return this.f&=-2,!0;var t=d;try{mt(this),d=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return d=t,gt(this),this.f&=-2,!0};B.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}S.prototype.S.call(this,t)};B.prototype.U=function(t){if(this.t!==void 0&&(S.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};B.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};Object.defineProperty(B.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=vt(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function Ge(t){return new B(t)}function bt(t){var e=t.u;if(t.u=void 0,typeof e=="function"){z++;var r=d;d=void 0;try{e()}catch(o){throw t.f&=-2,t.f|=8,Ae(t),o}finally{d=r,ye()}}}function Ae(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,bt(t)}function rr(t){if(d!==this)throw new Error("Out-of-order effect");gt(this),d=t,this.f&=-2,8&this.f&&Ae(this),ye()}function Z(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}Z.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};Z.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,bt(this),mt(this),z++;var t=d;return d=this,rr.bind(this,t)};Z.prototype.N=function(){2&this.f||(this.f|=2,this.o=V,V=this)};Z.prototype.d=function(){this.f|=8,1&this.f||Ae(this)};function Y(t){var e=new Z(t);try{e.c()}catch(r){throw e.d(),r}return e.d.bind(e)}var kt,ke,wt=[];Y(function(){kt=this.N})();function L(t,e){f[t]=e.bind(null,f[t]||function(){})}function le(t){ke&&ke(),ke=t&&t.S()}function St(t){var e=this,r=t.data,o=nr(r);o.value=r;var n=de(function(){for(var a=e,_=e.__v;_=_.__;)if(_.__c){_.__c.__$f|=4;break}var u=Ge(function(){var l=o.value.value;return l===0?0:l===!0?"":l||""}),p=Ge(function(){return!Ze(u.value)}),c=Y(function(){if(this.N=xt,p.value){var l=u.value;a.base&&a.base.nodeType===3&&(a.base.data=l)}}),h=e.__$u.d;return e.__$u.d=function(){c(),h.call(this)},[p,u]},[]),i=n[0],s=n[1];return i.value?s.peek():s.value}St.displayName="_st";Object.defineProperties(S.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:St},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});L("__b",function(t,e){if(typeof e.type=="string"){var r,o=e.props;for(var n in o)if(n!=="children"){var i=o[n];i instanceof S&&(r||(e.__np=r={}),r[n]=i,o[n]=i.peek())}}t(e)});L("__r",function(t,e){le();var r,o=e.__c;o&&(o.__$f&=-2,(r=o.__$u)===void 0&&(o.__$u=r=function(n){var i;return Y(function(){i=this}),i.c=function(){o.__$f|=1,o.setState({})},i}())),le(r),t(e)});L("__e",function(t,e,r,o){le(),t(e,r,o)});L("diffed",function(t,e){le();var r;if(typeof e.type=="string"&&(r=e.__e)){var o=e.__np,n=e.props;if(o){var i=r.U;if(i)for(var s in i){var a=i[s];a!==void 0&&!(s in o)&&(a.d(),i[s]=void 0)}else i={},r.U=i;for(var _ in o){var u=i[_],p=o[_];u===void 0?(u=or(r,_,p,n),i[_]=u):u.o(p,n)}}}t(e)});function or(t,e,r,o){var n=e in t&&t.ownerSVGElement===void 0,i=$(r);return{o:function(s,a){i.value=s,o=a},d:Y(function(){this.N=xt;var s=i.value.value;o[e]!==s&&(o[e]=s,n?t[e]=s:s?t.setAttribute(e,s):t.removeAttribute(e))})}}L("unmount",function(t,e){if(typeof e.type=="string"){var r=e.__e;if(r){var o=r.U;if(o){r.U=void 0;for(var n in o){var i=o[n];i&&i.d()}}}}else{var s=e.__c;if(s){var a=s.__$u;a&&(s.__$u=void 0,a.d())}}t(e)});L("__h",function(t,e,r,o){(o<3||o===9)&&(e.__$f|=2),t(e,r,o)});K.prototype.shouldComponentUpdate=function(t,e){var r=this.__$u,o=r&&r.s!==void 0;for(var n in e)return!0;if(this.__f||typeof this.u=="boolean"&&this.u===!0){var i=2&this.__$f;if(!(o||i||4&this.__$f)||1&this.__$f)return!0}else if(!(o||4&this.__$f)||3&this.__$f)return!0;for(var s in t)if(s!=="__source"&&t[s]!==this.props[s])return!0;for(var a in this.props)if(!(a in t))return!0;return!1};function nr(t){return de(function(){return $(t)},[])}var ir=function(t){queueMicrotask(function(){queueMicrotask(t)})};function sr(){tr(function(){for(var t;t=wt.shift();)kt.call(t)})}function xt(){wt.push(this)===1&&(f.requestAnimationFrame||ir)(sr)}class T{constructor({precedence:e,arity:r,symbol:o,action:n}){m(this,"precedence");m(this,"arity");m(this,"symbol");m(this,"action");this.precedence=e,this.arity=r,this.symbol=o,this.action=n,Object.freeze(this)}}const D={Plus:new T({symbol:"+",precedence:1,arity:2,action:(t,e)=>t+e}),UnaryPlus:new T({symbol:"+",precedence:3,arity:1,action:t=>t}),Minus:new T({symbol:"-",precedence:2,arity:2,action:(t,e)=>t-e}),UnaryMinus:new T({symbol:"-",precedence:3,arity:1,action:t=>-1*t}),Multiply:new T({symbol:"*",precedence:2,arity:2,action:(t,e)=>t*e}),Divide:new T({symbol:"/",precedence:2,arity:2,action:(t,e)=>(Wt(e)&&O(P.DivisionByZero),t/e)}),Power:new T({symbol:"^",arity:2,precedence:3,action:(t,e)=>Math.pow(t,e)}),Sin:new T({symbol:"sin",arity:1,precedence:4,action:t=>Math.sin(t)}),Cos:new T({symbol:"cos",arity:1,precedence:4,action:t=>Math.cos(t)}),Sqrt:new T({symbol:"sqrt",arity:1,precedence:4,action:t=>Math.sqrt(t)})},_e=[D.Plus,D.Minus,D.UnaryPlus,D.UnaryMinus,D.Multiply,D.Divide],Ce=t=>new Qt({supportedOperators:t}),J=Mt({expression:$(""),calculationResult:$(""),error:$(""),operators:$(_e),calculator:$(Ce(_e)),addToExpression:()=>{},setExpression:()=>{},clearExpression:()=>{},backspace:()=>{},calculate:()=>{},setOperatorsSet:()=>{}}),cr=50,ar=()=>{const{expression:t,error:e,setExpression:r,calculate:o}=ve(J),n=!!e.value;return g("div",{children:g("input",{maxLength:cr,onKeyDown:a=>{a.stopPropagation(),a.key==="Enter"&&o()},onInput:a=>{r(a.target.value)},autoFocus:!0,type:"text",readOnly:n,value:e.value||t.value,className:X("w-full min-h-16 px-4 bg-gray-700 text-green-400 text-4xl text-right focus:outline-none",{"text-red-600 text-xl h-min cursor-default":n})})})},ur={primary:"bg-gray-600 text-green-300",clear:"text-2xl bg-red-600 text-white",operator:"bg-green-500 lg:hover:bg-green-400",equal:"bg-green-600 text-black"},Q=({onClick:t,className:e="",children:r,variant:o="primary"})=>g("button",{onKeyDown:i=>{i.stopPropagation(),i.preventDefault(),i.key==="Enter"&&t()},onClick:t,className:X("p-2 text-4xl font-bold cursor-pointer rounded lg:hover:opacity-80 lg:transition-opacity",ur[o],e),children:r}),lr=({onClick:t,className:e})=>g(Q,{onClick:t,className:X("grow",e),variant:"clear",children:"C"}),_r=({onClick:t,className:e})=>g(Q,{onClick:t,className:X("grow",e),variant:"equal",children:"="}),pr=({onClick:t,className:e})=>g(Q,{onClick:t,className:X("grow",e),variant:"clear",children:"<"}),fr=[1,2,3,4,5,6,7,8,9,0],hr=()=>{const{addToExpression:t}=ve(J);return de(()=>fr.map(e=>g(Q,{onClick:()=>t(e.toString()),children:e},e)),[])},dr=()=>{const{addToExpression:t,operators:e}=ve(J);return de(()=>e.value.filter(o=>!(["+","-"].includes(o.symbol)&&o.arity===1)).map(o=>g(Q,{onClick:()=>t(o.symbol),variant:"operator",children:o.symbol},o.symbol)),[e])},vr=()=>{const{calculate:t,clearExpression:e,backspace:r}=ve(J),o=hr(),n=dr();return g("div",{className:"flex flex-col gap-4",children:[g("div",{className:"grid gap-4 grid-cols-4",children:[g(lr,{className:"col-span-1",onClick:e}),g(_r,{onClick:t,className:"col-span-2"}),g(pr,{onClick:r,className:"col-span-1"})]}),g("div",{className:"grid grid-cols-4 gap-4",children:[g("div",{className:"grid grid-cols-3 gap-4 col-span-3",children:o}),g("div",{className:"grid grid-cols-1 gap-4",children:n})]})]})},yr=({children:t})=>{const e=$(""),r=$(""),o=$(""),n=$(_e),i=$(Ce(_e)),h={expression:e,calculationResult:r,error:o,operators:n,calculator:i,addToExpression:l=>{e.value+=l},setExpression:l=>{e.value=l},clearExpression:()=>{e.value="",r.value="",o.value=""},calculate:()=>{try{const l=i.value.calculate(e.value);e.value=String(l)}catch(l){o.value=l instanceof Error?l.message:"Error"}},backspace:()=>{const l=e.value;l.length>0&&(e.value=l.slice(0,l.length-1))},setOperatorsSet:l=>{n.value=l,i.value=Ce(l)}};return g(J.Provider,{value:h,children:t})},mr=()=>g(yr,{children:g("div",{className:"w-3/4 flex flex-col gap-8 p-4 md:w-1/2 md:p-8 bg-gray-800",children:[g(ar,{}),g(vr,{})]})});At(g(mr,{}),document.getElementById("root"));
