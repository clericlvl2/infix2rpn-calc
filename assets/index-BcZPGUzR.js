var Et=Object.defineProperty;var $t=(t,e,r)=>e in t?Et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var m=(t,e,r)=>$t(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var le,h,Ge,Xe,R,Me,Ze,Ye,Je,Ce,ke,we,Qe,G={},et=[],Ct=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,_e=Array.isArray;function U(t,e){for(var r in e)t[r]=e[r];return t}function Pe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Pt(t,e,r){var o,n,i,c={};for(i in e)i=="key"?o=e[i]:i=="ref"?n=e[i]:c[i]=e[i];if(arguments.length>2&&(c.children=arguments.length>3?le.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)c[i]===void 0&&(c[i]=t.defaultProps[i]);return te(t,c,o,n,null)}function te(t,e,r,o,n){var i={type:t,props:e,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:n??++Ge,__i:-1,__u:0};return n==null&&h.vnode!=null&&h.vnode(i),i}function pe(t){return t.children}function K(t,e){this.props=t,this.context=e}function H(t,e){if(e==null)return t.__?H(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?H(t):null}function tt(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return tt(t)}}function Se(t){(!t.__d&&(t.__d=!0)&&R.push(t)&&!oe.__r++||Me!==h.debounceRendering)&&((Me=h.debounceRendering)||Ze)(oe)}function oe(){for(var t,e,r,o,n,i,c,a=1;R.length;)R.length>a&&R.sort(Ye),t=R.shift(),a=R.length,t.__d&&(r=void 0,n=(o=(e=t).__v).__e,i=[],c=[],e.__P&&((r=U({},o)).__v=o.__v+1,h.vnode&&h.vnode(r),Oe(e.__P,r,o,e.__n,e.__P.namespaceURI,32&o.__u?[n]:null,i,n??H(o),!!(32&o.__u),c),r.__v=o.__v,r.__.__k[r.__i]=r,nt(i,r,c),r.__e!=n&&tt(r)));oe.__r=0}function rt(t,e,r,o,n,i,c,a,l,u,f){var s,p,_,k,C,w,v=o&&o.__k||et,y=e.length;for(l=Ot(r,e,v,l,y),s=0;s<y;s++)(_=r.__k[s])!=null&&(p=_.__i===-1?G:v[_.__i]||G,_.__i=s,w=Oe(t,_,p,n,i,c,a,l,u,f),k=_.__e,_.ref&&p.ref!=_.ref&&(p.ref&&Ne(p.ref,null,_),f.push(_.ref,_.__c||k,_)),C==null&&k!=null&&(C=k),4&_.__u||p.__k===_.__k?l=ot(_,l,t):typeof _.type=="function"&&w!==void 0?l=w:k&&(l=k.nextSibling),_.__u&=-7);return r.__e=C,l}function Ot(t,e,r,o,n){var i,c,a,l,u,f=r.length,s=f,p=0;for(t.__k=new Array(n),i=0;i<n;i++)(c=e[i])!=null&&typeof c!="boolean"&&typeof c!="function"?(l=i+p,(c=t.__k[i]=typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?te(null,c,null,null,null):_e(c)?te(pe,{children:c},null,null,null):c.constructor===void 0&&c.__b>0?te(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c).__=t,c.__b=t.__b+1,a=null,(u=c.__i=Nt(c,r,l,s))!==-1&&(s--,(a=r[u])&&(a.__u|=2)),a==null||a.__v===null?(u==-1&&(n>f?p--:n<f&&p++),typeof c.type!="function"&&(c.__u|=4)):u!=l&&(u==l-1?p--:u==l+1?p++:(u>l?p--:p++,c.__u|=4))):t.__k[i]=null;if(s)for(i=0;i<f;i++)(a=r[i])!=null&&!(2&a.__u)&&(a.__e==o&&(o=H(a)),st(a,a));return o}function ot(t,e,r){var o,n;if(typeof t.type=="function"){for(o=t.__k,n=0;o&&n<o.length;n++)o[n]&&(o[n].__=t,e=ot(o[n],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=H(t)),r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Nt(t,e,r,o){var n,i,c=t.key,a=t.type,l=e[r];if(l===null&&t.key==null||l&&c==l.key&&a===l.type&&!(2&l.__u))return r;if(o>(l!=null&&!(2&l.__u)?1:0))for(n=r-1,i=r+1;n>=0||i<e.length;){if(n>=0){if((l=e[n])&&!(2&l.__u)&&c==l.key&&a===l.type)return n;n--}if(i<e.length){if((l=e[i])&&!(2&l.__u)&&c==l.key&&a===l.type)return i;i++}}return-1}function ze(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||Ct.test(e)?r:r+"px"}function ee(t,e,r,o,n){var i;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)r&&e in r||ze(t.style,e,"");if(r)for(e in r)o&&r[e]===o[e]||ze(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")i=e!=(e=e.replace(Je,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?o?r.t=o.t:(r.t=Ce,t.addEventListener(e,i?we:ke,i)):t.removeEventListener(e,i?we:ke,i);else{if(n=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function Re(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.u==null)e.u=Ce++;else if(e.u<r.t)return;return r(h.event?h.event(e):e)}}}function Oe(t,e,r,o,n,i,c,a,l,u){var f,s,p,_,k,C,w,v,y,F,A,J,W,Ae,Q,j,ye,N=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(l=!!(32&r.__u),i=[a=e.__e=r.__e]),(f=h.__b)&&f(e);e:if(typeof N=="function")try{if(v=e.props,y="prototype"in N&&N.prototype.render,F=(f=N.contextType)&&o[f.__c],A=f?F?F.props.value:f.__:o,r.__c?w=(s=e.__c=r.__c).__=s.__E:(y?e.__c=s=new N(v,A):(e.__c=s=new K(v,A),s.constructor=N,s.render=Ut),F&&F.sub(s),s.props=v,s.state||(s.state={}),s.context=A,s.__n=o,p=s.__d=!0,s.__h=[],s._sb=[]),y&&s.__s==null&&(s.__s=s.state),y&&N.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=U({},s.__s)),U(s.__s,N.getDerivedStateFromProps(v,s.__s))),_=s.props,k=s.state,s.__v=e,p)y&&N.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),y&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(y&&N.getDerivedStateFromProps==null&&v!==_&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(v,A),!s.__e&&(s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(v,s.__s,A)===!1||e.__v==r.__v)){for(e.__v!=r.__v&&(s.props=v,s.state=s.__s,s.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(q){q&&(q.__=e)}),J=0;J<s._sb.length;J++)s.__h.push(s._sb[J]);s._sb=[],s.__h.length&&c.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(v,s.__s,A),y&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(_,k,C)})}if(s.context=A,s.props=v,s.__P=t,s.__e=!1,W=h.__r,Ae=0,y){for(s.state=s.__s,s.__d=!1,W&&W(e),f=s.render(s.props,s.state,s.context),Q=0;Q<s._sb.length;Q++)s.__h.push(s._sb[Q]);s._sb=[]}else do s.__d=!1,W&&W(e),f=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++Ae<25);s.state=s.__s,s.getChildContext!=null&&(o=U(U({},o),s.getChildContext())),y&&!p&&s.getSnapshotBeforeUpdate!=null&&(C=s.getSnapshotBeforeUpdate(_,k)),j=f,f!=null&&f.type===pe&&f.key==null&&(j=it(f.props.children)),a=rt(t,_e(j)?j:[j],e,r,o,n,i,c,a,l,u),s.base=e.__e,e.__u&=-161,s.__h.length&&c.push(s),w&&(s.__E=s.__=null)}catch(q){if(e.__v=null,l||i!=null)if(q.then){for(e.__u|=l?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;i[i.indexOf(a)]=null,e.__e=a}else for(ye=i.length;ye--;)Pe(i[ye]);else e.__e=r.__e,e.__k=r.__k;h.__e(q,e,r)}else i==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):a=e.__e=Tt(r.__e,e,r,o,n,i,c,l,u);return(f=h.diffed)&&f(e),128&e.__u?void 0:a}function nt(t,e,r){for(var o=0;o<r.length;o++)Ne(r[o],r[++o],r[++o]);h.__c&&h.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(i){i.call(n)})}catch(i){h.__e(i,n.__v)}})}function it(t){return typeof t!="object"||t==null?t:_e(t)?t.map(it):U({},t)}function Tt(t,e,r,o,n,i,c,a,l){var u,f,s,p,_,k,C,w=r.props,v=e.props,y=e.type;if(y=="svg"?n="http://www.w3.org/2000/svg":y=="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((_=i[u])&&"setAttribute"in _==!!y&&(y?_.localName==y:_.nodeType==3)){t=_,i[u]=null;break}}if(t==null){if(y==null)return document.createTextNode(v);t=document.createElementNS(n,y,v.is&&v),a&&(h.__m&&h.__m(e,i),a=!1),i=null}if(y===null)w===v||a&&t.data===v||(t.data=v);else{if(i=i&&le.call(t.childNodes),w=r.props||G,!a&&i!=null)for(w={},u=0;u<t.attributes.length;u++)w[(_=t.attributes[u]).name]=_.value;for(u in w)if(_=w[u],u!="children"){if(u=="dangerouslySetInnerHTML")s=_;else if(!(u in v)){if(u=="value"&&"defaultValue"in v||u=="checked"&&"defaultChecked"in v)continue;ee(t,u,null,_,n)}}for(u in v)_=v[u],u=="children"?p=_:u=="dangerouslySetInnerHTML"?f=_:u=="value"?k=_:u=="checked"?C=_:a&&typeof _!="function"||w[u]===_||ee(t,u,_,w[u],n);if(f)a||s&&(f.__html===s.__html||f.__html===t.innerHTML)||(t.innerHTML=f.__html),e.__k=[];else if(s&&(t.innerHTML=""),rt(e.type==="template"?t.content:t,_e(p)?p:[p],e,r,o,y=="foreignObject"?"http://www.w3.org/1999/xhtml":n,i,c,i?i[0]:r.__k&&H(r,0),a,l),i!=null)for(u=i.length;u--;)Pe(i[u]);a||(u="value",y=="progress"&&k==null?t.removeAttribute("value"):k!==void 0&&(k!==t[u]||y=="progress"&&!k||y=="option"&&k!==w[u])&&ee(t,u,k,w[u],n),u="checked",C!==void 0&&C!==t[u]&&ee(t,u,C,w[u],n))}return t}function Ne(t,e,r){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(n){h.__e(n,r)}}function st(t,e,r){var o,n;if(h.unmount&&h.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Ne(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(i){h.__e(i,e)}o.base=o.__P=null}if(o=t.__k)for(n=0;n<o.length;n++)o[n]&&st(o[n],e,r||typeof t.type!="function");r||Pe(t.__e),t.__c=t.__=t.__e=void 0}function Ut(t,e,r){return this.constructor(t,r)}function At(t,e,r){var o,n,i,c;e==document&&(e=document.documentElement),h.__&&h.__(t,e),n=(o=!1)?null:e.__k,i=[],c=[],Oe(e,t=e.__k=Pt(pe,null,[t]),n||G,G,e.namespaceURI,n?null:e.firstChild?le.call(e.childNodes):null,i,n?n.__e:e.firstChild,o,c),nt(i,t,c)}function Mt(t){function e(r){var o,n;return this.getChildContext||(o=new Set,(n={})[e.__c]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){o=null},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&o.forEach(function(c){c.__e=!0,Se(c)})},this.sub=function(i){o.add(i);var c=i.componentWillUnmount;i.componentWillUnmount=function(){o&&o.delete(i),c&&c.call(i)}}),r.children}return e.__c="__cC"+Qe++,e.__=t,e.Provider=e.__l=(e.Consumer=function(r,o){return r.children(o)}).contextType=e,e}le=et.slice,h={__e:function(t,e,r,o){for(var n,i,c;e=e.__;)if((n=e.__c)&&!n.__)try{if((i=n.constructor)&&i.getDerivedStateFromError!=null&&(n.setState(i.getDerivedStateFromError(t)),c=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t,o||{}),c=n.__d),c)return n.__E=n}catch(a){t=a}throw t}},Ge=0,Xe=function(t){return t!=null&&t.constructor==null},K.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=U({},this.state),typeof t=="function"&&(t=t(U({},r),this.props)),t&&U(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Se(this))},K.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Se(this))},K.prototype.render=pe,R=[],Ze=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ye=function(t,e){return t.__v.__b-e.__v.__b},oe.__r=0,Je=/(PointerCapture)$|Capture$/i,Ce=0,ke=Re(!1),we=Re(!0),Qe=0;var zt=0;function g(t,e,r,o,n,i){e||(e={});var c,a,l=e;if("ref"in l)for(a in l={},e)a=="ref"?c=e[a]:l[a]=e[a];var u={type:t,props:l,key:r,ref:c,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--zt,__i:-1,__u:0,__source:n,__self:i};if(typeof t=="function"&&(c=t.defaultProps))for(a in c)l[a]===void 0&&(l[a]=c[a]);return h.vnode&&h.vnode(u),u}function ct(t){var e,r,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(r=ct(t[e]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r);return o}function at(){for(var t,e,r=0,o="",n=arguments.length;r<n;r++)(t=arguments[r])&&(e=ct(t))&&(o&&(o+=" "),o+=e);return o}var ne,E,me,Ie,De=0,ut=[],b=h,He=b.__b,Be=b.__r,Le=b.diffed,Fe=b.__c,We=b.unmount,je=b.__;function lt(t,e){b.__h&&b.__h(E,t,De||e),De=0;var r=E.__H||(E.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function fe(t,e){var r=lt(ne++,7);return Dt(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function he(t){var e=E.context[t.__c],r=lt(ne++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(E)),e.props.value):t.__}function Rt(){for(var t;t=ut.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(re),t.__H.__h.forEach(xe),t.__H.__h=[]}catch(e){t.__H.__h=[],b.__e(e,t.__v)}}b.__b=function(t){E=null,He&&He(t)},b.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),je&&je(t,e)},b.__r=function(t){Be&&Be(t),ne=0;var e=(E=t.__c).__H;e&&(me===E?(e.__h=[],E.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(re),e.__h.forEach(xe),e.__h=[],ne=0)),me=E},b.diffed=function(t){Le&&Le(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(ut.push(e)!==1&&Ie===b.requestAnimationFrame||((Ie=b.requestAnimationFrame)||It)(Rt)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),me=E=null},b.__c=function(t,e){e.some(function(r){try{r.__h.forEach(re),r.__h=r.__h.filter(function(o){return!o.__||xe(o)})}catch(o){e.some(function(n){n.__h&&(n.__h=[])}),e=[],b.__e(o,r.__v)}}),Fe&&Fe(t,e)},b.unmount=function(t){We&&We(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(o){try{re(o)}catch(n){e=n}}),r.__H=void 0,e&&b.__e(e,r.__v))};var qe=typeof requestAnimationFrame=="function";function It(t){var e,r=function(){clearTimeout(o),qe&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(r,100);qe&&(e=requestAnimationFrame(r))}function re(t){var e=E,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),E=e}function xe(t){var e=E;t.__c=t.__(),E=e}function Dt(t,e){return!t||t.length!==e.length||e.some(function(r,o){return r!==t[o]})}const Ht=/[\s\u00A0]+/g,Bt=t=>t.replace(Ht,""),ge=t=>t.replace(/[-\]\[.*+?^${}()|/]/g,"\\$&"),P={Invalid:"Expression is invalid",NotAllowedSymbols:"Expression has not allowed symbols",IncorrectUnaryOperator:"Invalid unary operator found",HasNotSupportedOperators:"Expression has not supported operators",UnmatchedParentheses:"Expression has unmatched parentheses",DivisionByZero:"Divide by zero is not supported",CalculationError:"Error while calculating happened"},O=t=>{throw new Error(t)},M={Opening:"(",Closing:")"},ie=t=>t===M.Opening,Lt=t=>t===M.Closing,Te=t=>ie(t)||Lt(t),Ft=/^-?\d+(?:\.\d+)?$/,I=t=>t!=null,Wt=t=>I(t)&&t===0,_t=t=>I(t)&&t.length===0,pt=t=>typeof t=="string",se=t=>pt(t)&&Ft.test(t);class Ke{constructor({arity:e,symbol:r}){m(this,"arity");m(this,"symbol");this.arity=e,this.symbol=r,Object.freeze(this)}}class jt{constructor({supportedOperators:e}){m(this,"supportedOperators");m(this,"isUnrecognizedOperator",e=>!se(e)&&!Te(e));this.supportedOperators=e}recognize(e){const r=this.recognizeOperators(e);return this.enrichOperators(r)}recognizeOperators(e){const r=[];return e.forEach((o,n,i)=>{if(!this.isUnrecognizedOperator(o)){r.push(o);return}const c=i[n-1],a=i[n+1],l=this.determineArity(c,a),u=new Ke({arity:l,symbol:o});r.push(u)}),r}enrichOperators(e){const r=[],o=new Map;return this.supportedOperators.forEach(n=>{const i=`${n.symbol}${n.arity}`;o.set(i,n)}),e.forEach(n=>{if(!(n instanceof Ke)){r.push(n);return}const c=`${n.symbol}${n.arity}`;o.has(c)||O(P.HasNotSupportedOperators),r.push(o.get(c))}),r}determineArity(e,r){!I(r)&&O(P.Invalid);const n=!I(e)||ie(e)||this.isUnrecognizedOperator(e);return n&&I(r)&&!ie(r)&&!se(r)&&O(P.IncorrectUnaryOperator),n?1:2}}class ft{constructor(e=[]){m(this,"stack");this.stack=e}size(){return this.stack.length}push(e){this.stack.push(e)}pop(){return this.stack.pop()}readTop(){return this.stack.at(-1)}clear(){this.stack=[]}popTo(e,r){const o=this.size()-r,n=o<0?0:o;for(;this.size()>n;){const i=this.pop();I(i)&&e.push(i)}}popTopTo(e){return this.popTo(e,1)}popAllTo(e){return this.popTo(e,this.size())}}var x=(t=>(t[t.Number=0]="Number",t[t.Operator=1]="Operator",t[t.Parenthesis=2]="Parenthesis",t[t.Unknown=3]="Unknown",t))(x||{});const qt=t=>se(t),Kt=t=>Te(t),ht=t=>typeof t=="object"&&!!(t!=null&&t.hasOwnProperty("arity")&&(t!=null&&t.hasOwnProperty("action"))&&(t!=null&&t.hasOwnProperty("precedence"))&&(t!=null&&t.hasOwnProperty("symbol"))),Vt={[x.Number]:qt,[x.Operator]:ht,[x.Parenthesis]:Kt};class dt{constructor({supportedTokensTypes:e,tokenProcessor:r}){m(this,"tokenProcessor");m(this,"tokensTypes");this.tokensTypes=e,this.tokenProcessor={...r,[x.Unknown]:this.processUnknownChunk.bind(this)},this.getType=this.getType.bind(this),this.process=this.process.bind(this)}process(e){const r=this.getType(e),o=this.tokenProcessor[r];o(e)}getType(e){return this.tokensTypes.find(o=>Vt[o](e))??x.Unknown}processUnknownChunk(){O(P.Invalid)}}class Gt{constructor(){m(this,"stack");m(this,"tokenProcessor");this.stack=new ft,this.tokenProcessor=new dt({supportedTokensTypes:[x.Number,x.Operator],tokenProcessor:{[x.Number]:this.processToken.bind(this),[x.Operator]:this.processOperator.bind(this)}})}calculate(e){this.initExpressionCalc(e);const r=this.stack.pop();return this.checkStack(),r}reset(){this.stack.clear()}initExpressionCalc(e){e.forEach(this.tokenProcessor.process)}checkStack(){this.stack.size()&&O(P.CalculationError)}processToken(e){const r=parseFloat(e);this.stack.push(r)}processOperator(e){const r=[];this.stack.popTo(r,e.arity);const o=e.action(...r.reverse());this.stack.push(o)}}class Xt{constructor(){m(this,"operatorsStack");m(this,"notation");m(this,"tokenProcessor");this.operatorsStack=new ft,this.notation=[],this.tokenProcessor=new dt({supportedTokensTypes:[x.Number,x.Operator,x.Parenthesis],tokenProcessor:{[x.Number]:this.processTokenChunk.bind(this),[x.Operator]:this.processOperatorChunk.bind(this),[x.Parenthesis]:this.processBracketChunk.bind(this)}})}convert(e){const r=this.getConvertedExpression(e);return this.reset(),r}reset(){this.notation=[],this.operatorsStack.clear()}getConvertedExpression(e){return e.forEach(this.tokenProcessor.process),this.operatorsStack.popAllTo(this.notation),this.notation}processTokenChunk(e){this.notation.push(e)}processOperatorChunk(e){const r=this.operatorsStack.readTop(),o=this.getStackItemPrecedence(r);I(r)&&e.precedence<=o&&this.operatorsStack.popTopTo(this.notation),this.operatorsStack.push(e)}processBracketChunk(e){if(ie(e)){this.operatorsStack.push(e);return}let r=this.operatorsStack.pop();for(;r&&!Te(r);)this.notation.push(r),r=this.operatorsStack.pop()}getStackItemPrecedence(e){return e&&ht(e)?e.precedence:0}}class Zt{constructor(){m(this,"accumulator",[])}add(e){this.accumulator.push(String(e))}collect(){const e=this.accumulator.join("");return this.reset(),e}collectTo(e){const r=this.collect();_t(r)||e.push(r)}reset(){this.accumulator=[]}}class Yt{tokenizeExpression(e){const r=[],o=new Zt;for(const n of e)if(!this.isEmptyChunk(n)){if(se(n)){o.add(n);continue}o.collectTo(r),r.push(n)}return o.collectTo(r),r}isEmptyChunk(e){return e.trim().length===0}}class Jt{constructor({supportedOperators:e}){m(this,"supportedOperators");m(this,"allowedSymbolsRegex");this.supportedOperators=e,this.allowedSymbolsRegex=this.createAllowedSymbolsRegex()}checkString(e){pt(e)||O(P.Invalid)}checkEmptyString(e){_t(e)&&O(P.Invalid)}checkNotAllowedSymbols(e){this.allowedSymbolsRegex.test(e)||O(P.NotAllowedSymbols)}getCount(e,r){return e[r]??0}checkParentheses(e){const r={};for(const o of e)this.getCount(r,M.Closing)>this.getCount(r,M.Opening)&&O(P.UnmatchedParentheses),r[o]=this.getCount(r,o)+1;this.getCount(r,M.Closing)!==this.getCount(r,M.Opening)&&O(P.UnmatchedParentheses)}createAllowedSymbolsRegex(){const e="0-9\\.",r=`${ge(M.Opening)}${ge(M.Closing)}`,o=this.supportedOperators.map(i=>ge(i.symbol)).join(""),n=`^[${e}${r}${o}]+$`;return new RegExp(n)}}class Qt{constructor({supportedOperators:e}){m(this,"validator");m(this,"tokenizer");m(this,"operatorRecognizer");m(this,"rpnConverter");m(this,"rpnCalculator");this.tokenizer=new Yt,this.operatorRecognizer=new jt({supportedOperators:e}),this.validator=new Jt({supportedOperators:e}),this.rpnConverter=new Xt,this.rpnCalculator=new Gt}calculate(e){const r=this.filterWhitespaces(e),o=this.validateExpression(r),n=this.tokenizer.tokenizeExpression(o),i=this.operatorRecognizer.recognize(n);this.resetRPN();const c=this.rpnConverter.convert(i);return this.rpnCalculator.calculate(c)}resetRPN(){this.rpnConverter.reset(),this.rpnCalculator.reset()}filterWhitespaces(e){this.validator.checkString(e);const r=Bt(e);return this.validator.checkEmptyString(r),r}validateExpression(e){return this.validator.checkNotAllowedSymbols(e),this.validator.checkParentheses(e),e}}var er=Symbol.for("preact-signals");function de(){if(z>1)z--;else{for(var t,e=!1;V!==void 0;){var r=V;for(V=void 0,Ee++;r!==void 0;){var o=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&yt(r))try{r.c()}catch(n){e||(t=n,e=!0)}r=o}}if(Ee=0,z--,e)throw t}}function tr(t){if(z>0)return t();z++;try{return t()}finally{de()}}var d=void 0,V=void 0,z=0,Ee=0,ce=0;function vt(t){if(d!==void 0){var e=t.n;if(e===void 0||e.t!==d)return e={i:0,S:t,p:d.s,n:void 0,t:d,e:void 0,x:void 0,r:e},d.s!==void 0&&(d.s.n=e),d.s=e,t.n=e,32&d.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=d.s,e.n=void 0,d.s.n=e,d.s=e),e}}function S(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}S.prototype.brand=er;S.prototype.h=function(){return!0};S.prototype.S=function(t){this.t!==t&&t.e===void 0&&(t.x=this.t,this.t!==void 0&&(this.t.e=t),this.t=t)};S.prototype.U=function(t){if(this.t!==void 0){var e=t.e,r=t.x;e!==void 0&&(e.x=r,t.e=void 0),r!==void 0&&(r.e=e,t.x=void 0),t===this.t&&(this.t=r)}};S.prototype.subscribe=function(t){var e=this;return Z(function(){var r=e.value,o=d;d=void 0;try{t(r)}finally{d=o}})};S.prototype.valueOf=function(){return this.value};S.prototype.toString=function(){return this.value+""};S.prototype.toJSON=function(){return this.value};S.prototype.peek=function(){var t=d;d=void 0;try{return this.value}finally{d=t}};Object.defineProperty(S.prototype,"value",{get:function(){var t=vt(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(Ee>100)throw new Error("Cycle detected");this.v=t,this.i++,ce++,z++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{de()}}}});function $(t){return new S(t)}function yt(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function mt(t){for(var e=t.s;e!==void 0;e=e.n){var r=e.S.n;if(r!==void 0&&(e.r=r),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function gt(t){for(var e=t.s,r=void 0;e!==void 0;){var o=e.p;e.i===-1?(e.S.U(e),o!==void 0&&(o.n=e.n),e.n!==void 0&&(e.n.p=o)):r=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=o}t.s=r}function B(t){S.call(this,void 0),this.x=t,this.s=void 0,this.g=ce-1,this.f=4}(B.prototype=new S).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===ce))return!0;if(this.g=ce,this.f|=1,this.i>0&&!yt(this))return this.f&=-2,!0;var t=d;try{mt(this),d=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return d=t,gt(this),this.f&=-2,!0};B.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}S.prototype.S.call(this,t)};B.prototype.U=function(t){if(this.t!==void 0&&(S.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};B.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};Object.defineProperty(B.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=vt(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function Ve(t){return new B(t)}function bt(t){var e=t.u;if(t.u=void 0,typeof e=="function"){z++;var r=d;d=void 0;try{e()}catch(o){throw t.f&=-2,t.f|=8,Ue(t),o}finally{d=r,de()}}}function Ue(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,bt(t)}function rr(t){if(d!==this)throw new Error("Out-of-order effect");gt(this),d=t,this.f&=-2,8&this.f&&Ue(this),de()}function X(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}X.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};X.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,bt(this),mt(this),z++;var t=d;return d=this,rr.bind(this,t)};X.prototype.N=function(){2&this.f||(this.f|=2,this.o=V,V=this)};X.prototype.d=function(){this.f|=8,1&this.f||Ue(this)};function Z(t){var e=new X(t);try{e.c()}catch(r){throw e.d(),r}return e.d.bind(e)}var kt,be,wt=[];Z(function(){kt=this.N})();function L(t,e){h[t]=e.bind(null,h[t]||function(){})}function ae(t){be&&be(),be=t&&t.S()}function St(t){var e=this,r=t.data,o=nr(r);o.value=r;var n=fe(function(){for(var a=e,l=e.__v;l=l.__;)if(l.__c){l.__c.__$f|=4;break}var u=Ve(function(){var _=o.value.value;return _===0?0:_===!0?"":_||""}),f=Ve(function(){return!Xe(u.value)}),s=Z(function(){if(this.N=xt,f.value){var _=u.value;a.base&&a.base.nodeType===3&&(a.base.data=_)}}),p=e.__$u.d;return e.__$u.d=function(){s(),p.call(this)},[f,u]},[]),i=n[0],c=n[1];return i.value?c.peek():c.value}St.displayName="_st";Object.defineProperties(S.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:St},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});L("__b",function(t,e){if(typeof e.type=="string"){var r,o=e.props;for(var n in o)if(n!=="children"){var i=o[n];i instanceof S&&(r||(e.__np=r={}),r[n]=i,o[n]=i.peek())}}t(e)});L("__r",function(t,e){ae();var r,o=e.__c;o&&(o.__$f&=-2,(r=o.__$u)===void 0&&(o.__$u=r=function(n){var i;return Z(function(){i=this}),i.c=function(){o.__$f|=1,o.setState({})},i}())),ae(r),t(e)});L("__e",function(t,e,r,o){ae(),t(e,r,o)});L("diffed",function(t,e){ae();var r;if(typeof e.type=="string"&&(r=e.__e)){var o=e.__np,n=e.props;if(o){var i=r.U;if(i)for(var c in i){var a=i[c];a!==void 0&&!(c in o)&&(a.d(),i[c]=void 0)}else i={},r.U=i;for(var l in o){var u=i[l],f=o[l];u===void 0?(u=or(r,l,f,n),i[l]=u):u.o(f,n)}}}t(e)});function or(t,e,r,o){var n=e in t&&t.ownerSVGElement===void 0,i=$(r);return{o:function(c,a){i.value=c,o=a},d:Z(function(){this.N=xt;var c=i.value.value;o[e]!==c&&(o[e]=c,n?t[e]=c:c?t.setAttribute(e,c):t.removeAttribute(e))})}}L("unmount",function(t,e){if(typeof e.type=="string"){var r=e.__e;if(r){var o=r.U;if(o){r.U=void 0;for(var n in o){var i=o[n];i&&i.d()}}}}else{var c=e.__c;if(c){var a=c.__$u;a&&(c.__$u=void 0,a.d())}}t(e)});L("__h",function(t,e,r,o){(o<3||o===9)&&(e.__$f|=2),t(e,r,o)});K.prototype.shouldComponentUpdate=function(t,e){var r=this.__$u,o=r&&r.s!==void 0;for(var n in e)return!0;if(this.__f||typeof this.u=="boolean"&&this.u===!0){var i=2&this.__$f;if(!(o||i||4&this.__$f)||1&this.__$f)return!0}else if(!(o||4&this.__$f)||3&this.__$f)return!0;for(var c in t)if(c!=="__source"&&t[c]!==this.props[c])return!0;for(var a in this.props)if(!(a in t))return!0;return!1};function nr(t){return fe(function(){return $(t)},[])}var ir=function(t){queueMicrotask(function(){queueMicrotask(t)})};function sr(){tr(function(){for(var t;t=wt.shift();)kt.call(t)})}function xt(){wt.push(this)===1&&(h.requestAnimationFrame||ir)(sr)}class T{constructor({precedence:e,arity:r,symbol:o,action:n}){m(this,"precedence");m(this,"arity");m(this,"symbol");m(this,"action");this.precedence=e,this.arity=r,this.symbol=o,this.action=n,Object.freeze(this)}}const D={Plus:new T({symbol:"+",precedence:1,arity:2,action:(t,e)=>t+e}),UnaryPlus:new T({symbol:"+",precedence:3,arity:1,action:t=>t}),Minus:new T({symbol:"-",precedence:2,arity:2,action:(t,e)=>t-e}),UnaryMinus:new T({symbol:"-",precedence:3,arity:1,action:t=>-1*t}),Multiply:new T({symbol:"*",precedence:2,arity:2,action:(t,e)=>t*e}),Divide:new T({symbol:"/",precedence:2,arity:2,action:(t,e)=>(Wt(e)&&O(P.DivisionByZero),t/e)}),Power:new T({symbol:"^",arity:2,precedence:3,action:(t,e)=>Math.pow(t,e)}),Sin:new T({symbol:"sin",arity:1,precedence:4,action:t=>Math.sin(t)}),Cos:new T({symbol:"cos",arity:1,precedence:4,action:t=>Math.cos(t)}),Sqrt:new T({symbol:"sqrt",arity:1,precedence:4,action:t=>Math.sqrt(t)})},ue=[D.Plus,D.Minus,D.UnaryPlus,D.UnaryMinus,D.Multiply,D.Divide],$e=t=>new Qt({supportedOperators:t}),Y=Mt({expression:$(""),calculationResult:$(""),error:$(""),operators:$(ue),calculator:$($e(ue)),addToExpression:()=>{},setExpression:()=>{},clearExpression:()=>{},calculate:()=>{},setOperatorsSet:()=>{}}),cr=50,ar=()=>{const{expression:t,error:e,setExpression:r,calculate:o}=he(Y),n=!!e.value;return g("div",{children:g("input",{maxLength:cr,onKeyDown:a=>{a.stopPropagation(),a.key==="Enter"&&o()},onInput:a=>{r(a.target.value)},autoFocus:!0,type:"text",readOnly:n,value:e.value||t.value,className:at("w-full min-h-16 px-4 bg-gray-700 text-green-400 text-4xl text-right focus:outline-none",{"text-red-600 text-xl h-min cursor-default":n})})})},ur={primary:"bg-gray-600 text-green-300",clear:"text-2xl bg-red-600 text-white",operator:"bg-green-500 lg:hover:bg-green-400",equal:"bg-green-600 text-black"},ve=({onClick:t,className:e="",children:r,variant:o="primary"})=>g("button",{onKeyDown:i=>{i.stopPropagation(),i.preventDefault(),i.key==="Enter"&&t()},onClick:t,className:at("p-2 text-4xl font-bold cursor-pointer rounded lg:hover:opacity-80 lg:transition-opacity",ur[o],e),children:r}),lr=({onClick:t})=>g(ve,{onClick:t,className:"grow",variant:"clear",children:"C"}),_r=({onClick:t})=>g(ve,{onClick:t,className:"grow",variant:"equal",children:"="}),pr=[1,2,3,4,5,6,7,8,9,0],fr=()=>{const{addToExpression:t}=he(Y);return fe(()=>pr.map(e=>g(ve,{onClick:()=>t(e.toString()),children:e},e)),[])},hr=()=>{const{addToExpression:t,operators:e}=he(Y);return fe(()=>e.value.filter(o=>!(["+","-"].includes(o.symbol)&&o.arity===1)).map(o=>g(ve,{onClick:()=>t(o.symbol),variant:"operator",children:o.symbol},o.symbol)),[e])},dr=()=>{const{calculate:t,clearExpression:e}=he(Y),r=fr(),o=hr();return g("div",{className:"flex flex-col gap-4",children:[g("div",{className:"flex gap-4",children:[g(lr,{onClick:e}),g(_r,{onClick:t})]}),g("div",{className:"grid grid-cols-4 gap-4",children:[g("div",{className:"grid grid-cols-3 gap-4 col-span-3",children:r}),g("div",{className:"grid grid-cols-1 gap-4",children:o})]})]})},vr=({children:t})=>{const e=$(""),r=$(""),o=$(""),n=$(ue),i=$($e(ue)),s={expression:e,calculationResult:r,error:o,operators:n,calculator:i,addToExpression:p=>{e.value+=p},setExpression:p=>{e.value=p},clearExpression:()=>{e.value="",r.value="",o.value=""},calculate:()=>{try{const p=i.value.calculate(e.value);e.value=String(p)}catch(p){o.value=p instanceof Error?p.message:"Error"}},setOperatorsSet:p=>{n.value=p,i.value=$e(p)}};return g(Y.Provider,{value:s,children:t})},yr=()=>g(vr,{children:g("div",{className:"w-3/4 flex flex-col gap-8 p-4 md:w-1/2 md:p-8 bg-gray-800",children:[g(ar,{}),g(dr,{})]})});At(g(yr,{}),document.getElementById("root"));
